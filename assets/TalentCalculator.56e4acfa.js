import{l as p}from"./lodash.65b4c225.js";import{_,o as i,c,a as e,t as u,F as d,f,n as v,w as b,v as g}from"./index.29d93502.js";const C=[{name:"Potential Fruit",colour:"#FCF099",points:100,tiers:[{from:0,step:5},{from:100,step:10},{from:300,step:20},{from:660,step:40},{from:1500,step:60},{from:2700,step:80},{from:4300,step:100},{from:8200,step:200},{from:16200,step:300},{from:28200,step:400}]},{name:"Premium Books",colour:"#8B4AD3",points:5,tiers:[{from:0,step:10},{from:200,step:20},{from:600,step:30},{from:1200,step:40},{from:2e3,step:50},{from:3350,step:-1}]},{name:"Emperor Souls",colour:"#3082DC",points:1e3,tiers:[{from:0,step:40}]},{name:"Confidante Jade",colour:"#FE5C66",points:1e3,tiers:[{from:0,step:10}]},{name:"Expansion Tokens",colour:"#F1DD81",points:700,tiers:[{from:0,step:5}]},{name:"Heroine Souls",colour:"#E460B8",points:500,tiers:[{from:0,step:10}]},{name:"Superheroine Souls",colour:"#5CB76C",points:1500,tiers:[{from:0,step:100}]},{name:"Star Deity Souls",colour:"#9387E8",points:1800,tiers:[{from:0,step:100}]},{name:"Star Deity Consort Souls",colour:"#A3E2FB",points:1800,tiers:[{from:0,step:60}]},{name:"Dragon Souls",colour:"#D97B42",points:2500,tiers:[{from:0,step:100}]}];var x={talentSources:C};const h="talentcalculator-state",P={data(){return{talentSources:this.toCountableSources(x.talentSources),debouncedUpdate:p.exports.debounce(()=>{this.saveState()},2e3)}},computed:{totalPoints(){return p.exports.sum(this.talentSources.map(t=>this.calculatePoints(t)))}},watch:{totalPoints:{handler(t,o){this.debouncedUpdate()},deep:!0}},methods:{toCountableSources(t){let o=this.loadState(),s=t.map(r=>this.toCountableSource(r));return o!==null&&s.forEach(r=>{let n=o.filter(a=>a.name==r.name);n.length&&(r.used=n[0].used)}),s},toCountableSource(t){return{name:t.name,colour:t.colour,points:t.points,tiers:t.tiers,used:0}},chunk(t,o){return p.exports.chunk(t,o)},calculatePoints(t){let o=t.tiers.filter(l=>l.from<=t.used),s=o[o.length-1],r=s.from*t.points;if(s.step===-1)return r;let n=t.used-s.from,a=n-n%s.step;return r+a*t.points},saveState(){window.localStorage.setItem(h,JSON.stringify(this.talentSources))},loadState(){let t=window.localStorage.getItem(h);return t?JSON.parse(t):null}}},y={class:"jumbotron text-center"},D={class:"card"},w={class:"card-body"},B={class:"card-text"},E=e("h6",null,"Total points",-1),k={class:"card-group"},F={class:"card"},V={class:"card-text"},T={class:"row"},U={class:"col-md-3"},J={class:"form-label mt-1"},L=["onUpdate:modelValue"];function N(t,o,s,r,n,a){return i(),c(d,null,[e("div",y,[e("div",D,[e("div",w,[e("div",B,[e("h1",null,u(a.totalPoints.toLocaleString()),1),E])])]),e("div",k,[(i(!0),c(d,null,f(n.talentSources,l=>(i(),c("div",F,[e("div",{class:"card-body",style:v({"background-color":l.colour})},[e("div",V,[e("h2",null,u(a.calculatePoints(l).toLocaleString()),1),e("h6",null,u(l.name),1)])],4)]))),256))])]),(i(!0),c(d,null,f(a.chunk(n.talentSources,2),l=>(i(),c("div",T,[(i(!0),c(d,null,f(l,m=>(i(),c("div",U,[e("label",J,u(m.name),1),b(e("input",{class:"form-control",type:"number",min:"0","onUpdate:modelValue":S=>m.used=S},null,8,L),[[g,m.used]])]))),256))]))),256))],64)}var I=_(P,[["render",N]]);export{I as default};
