import{l as m}from"./lodash.65b4c225.js";import{_ as h,o as i,c as u,a as e,t as c,F as d,f,p as v,j as g,n as b,w as C,v as x}from"./index.cb5ba09b.js";const y=[{name:"Potential Fruit",colour:"#FCF099",points:100,tiers:[{from:0,step:5},{from:100,step:10},{from:300,step:20},{from:660,step:40},{from:1500,step:60},{from:2700,step:80},{from:4300,step:100},{from:8200,step:200},{from:16200,step:300},{from:28200,step:400}]},{name:"Premium Books",colour:"#8B4AD3",points:5,tiers:[{from:0,step:10},{from:200,step:20},{from:600,step:30},{from:1200,step:40},{from:2e3,step:50},{from:3350,step:-1}]},{name:"Emperor Souls",colour:"#3082DC",points:1e3,tiers:[{from:0,step:40}]},{name:"Confidante Jade",colour:"#FE5C66",points:1e3,tiers:[{from:0,step:10}]},{name:"Expansion Tokens",colour:"#F1DD81",points:700,tiers:[{from:0,step:5}]},{name:"Heroine Souls",colour:"#E460B8",points:500,tiers:[{from:0,step:10}]},{name:"Superheroine Souls",colour:"#5CB76C",points:1500,tiers:[{from:0,step:100}]},{name:"Star Deity Souls",colour:"#9387E8",points:1800,tiers:[{from:0,step:100}]},{name:"Star Deity Consort Souls",colour:"#A3E2FB",points:1800,tiers:[{from:0,step:60}]},{name:"Dragon Souls",colour:"#D97B42",points:2500,tiers:[{from:0,step:100}]},{name:"Qin Shi Huang Souls",colour:"#FBA43C",points:4e4,tiers:[{from:0,step:1}]},{name:"Wu Zetian Souls",colour:"#FD83EE",points:4e4,tiers:[{from:0,step:1}]}];var D={talentSources:y};const _="talentcalculator-state",E={data(){return{talentSources:this.toCountableSources(D.talentSources),debouncedUpdate:m.exports.debounce(()=>{this.saveState()},2e3)}},computed:{totalPoints(){return m.exports.sum(this.talentSources.map(t=>this.calculatePoints(t)))}},watch:{totalPoints:{handler(t,o){this.debouncedUpdate()},deep:!0}},methods:{toCountableSources(t){let o=this.loadState(),s=t.map(r=>this.toCountableSource(r));return o!==null&&s.forEach(r=>{let a=o.filter(n=>n.name==r.name);a.length&&(r.used=a[0].used)}),s},toCountableSource(t){return{name:t.name,colour:t.colour,points:t.points,tiers:t.tiers,used:0}},chunk(t,o){return m.exports.chunk(t,o)},calculatePoints(t){let o=t.tiers.filter(l=>l.from<=t.used),s=o[o.length-1],r=s.from*t.points;if(s.step===-1)return r;let a=t.used-s.from,n=a-a%s.step;return r+n*t.points},saveState(){window.localStorage.setItem(_,JSON.stringify(this.talentSources))},loadState(){let t=window.localStorage.getItem(_);return t?JSON.parse(t):null}}},P=t=>(v("data-v-9d452aa2"),t=t(),g(),t),w={class:"jumbotron text-center"},B={class:"card"},F={class:"card-body"},k={class:"card-text"},I=P(()=>e("h6",null,"Total points",-1)),T={class:"card-group"},V={class:"card"},U={class:"card-text"},j={class:"row"},A={class:"col-md-3"},J={class:"form-label mt-1"},L=["onUpdate:modelValue"];function N(t,o,s,r,a,n){return i(),u(d,null,[e("div",w,[e("div",B,[e("div",F,[e("div",k,[e("h1",null,c(n.totalPoints.toLocaleString()),1),I])])]),e("div",T,[(i(!0),u(d,null,f(a.talentSources,l=>(i(),u("div",V,[e("div",{class:"card-body",style:b({"background-color":l.colour})},[e("div",U,[e("h2",null,c(n.calculatePoints(l).toLocaleString()),1),e("h6",null,c(l.name),1)])],4)]))),256))])]),(i(!0),u(d,null,f(n.chunk(a.talentSources,2),l=>(i(),u("div",j,[(i(!0),u(d,null,f(l,p=>(i(),u("div",A,[e("label",J,c(p.name),1),C(e("input",{class:"form-control",type:"number",min:"0","onUpdate:modelValue":S=>p.used=S},null,8,L),[[x,p.used]])]))),256))]))),256))],64)}var z=h(E,[["render",N],["__scopeId","data-v-9d452aa2"]]);export{z as default};
